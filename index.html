<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IT2810 - Project 1</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--jquery CDN-->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <!--fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400;700&display=swap"
          rel="stylesheet">

    <link rel="stylesheet" href="styles.css"/>

    <!-- SVG and documentation click handlers -->
    <script src="script.js"></script>

    <!-- JavaScript for drawing to canvas -->
    <script src="canvas.js"></script>
</head>
<body>
<div class="main-container">
    <div>
        <h1 class="main-header">mia abstrakta</h1>
    </div>
    <div class="art-container no-select">
        <!-- SVG art built in Inkscape -->
        <svg class="art-svg" viewBox="0 0 211.67 211.67" xmlns="http://www.w3.org/2000/svg">
            <g id=bg-triangles class=triangle-circle fill="#01579b">
                <path transform="matrix(.33503 0 0 .33503 27.4 -13.045)"
                      d="m328.86 233.61h-68.298-121.21a15.276 15.276 60 0 1-13.229-22.914l94.756-164.12a15.276 15.276 2.522e-7 0 1 26.458 0l94.756 164.12a15.276 15.276 120 0 1-13.229 22.914z"/>
                <path transform="matrix(0 -.33503 .33503 0 -13.045 184.27)"
                      d="m328.86 233.61h-68.298-121.21a15.276 15.276 60 0 1-13.229-22.914l94.756-164.12a15.276 15.276 2.522e-7 0 1 26.458 0l94.756 164.12a15.276 15.276 120 0 1-13.229 22.914z"/>
                <path transform="matrix(0 .33503 -.33503 0 224.71 27.4)"
                      d="m328.86 233.61h-68.298-121.21a15.276 15.276 60 0 1-13.229-22.914l94.756-164.12a15.276 15.276 2.522e-7 0 1 26.458 0l94.756 164.12a15.276 15.276 120 0 1-13.229 22.914z"/>
                <path transform="matrix(.33503 0 0 -.33503 27.4 224.71)"
                      d="m328.86 233.61h-68.298-121.21a15.276 15.276 60 0 1-13.229-22.914l94.756-164.12a15.276 15.276 2.522e-7 0 1 26.458 0l94.756 164.12a15.276 15.276 120 0 1-13.229 22.914z"/>
            </g>
            <g id=fg-triangles class=triangle-circle fill="#0288d1">
                <path transform="matrix(.2369 .2369 -.2369 .2369 134.49 -33.616)"
                      d="m328.86 233.61h-68.298-121.21a15.276 15.276 60 0 1-13.229-22.914l94.756-164.12a15.276 15.276 2.522e-7 0 1 26.458 0l94.756 164.12a15.276 15.276 120 0 1-13.229 22.914z"/>
                <path transform="matrix(.2369 -.2369 .2369 .2369 -33.629 77.305)"
                      d="m328.86 233.61h-68.298-121.21a15.276 15.276 60 0 1-13.229-22.914l94.756-164.12a15.276 15.276 2.522e-7 0 1 26.458 0l94.756 164.12a15.276 15.276 120 0 1-13.229 22.914z"/>
                <path transform="matrix(-.2369 .2369 -.2369 -.2369 245.41 134.5)"
                      d="m328.86 233.61h-68.298-121.21a15.276 15.276 60 0 1-13.229-22.914l94.756-164.12a15.276 15.276 2.522e-7 0 1 26.458 0l94.756 164.12a15.276 15.276 120 0 1-13.229 22.914z"/>
                <path transform="matrix(.2369 .2369 .2369 -.2369 -33.629 134.5)"
                      d="m328.86 233.61h-68.298-121.21a15.276 15.276 60 0 1-13.229-22.914l94.756-164.12a15.276 15.276 2.522e-7 0 1 26.458 0l94.756 164.12a15.276 15.276 120 0 1-13.229 22.914z"/>
            </g>
            <circle id=center-disc class="center-disc" cx="105.83" cy="105.83" r="21.162"/>
            <text id=svg-label class="svg-label" xml:space="preserve" x="83.295349" y="113.73091">
                <tspan x="83.295349" y="113.73091">SVG</tspan>
            </text>
        </svg>
        <div class="art-canvas-container">
            <canvas id="art-canvas" class="art-canvas"></canvas>
        </div>
    </div>
    <div class="bio-container">
        <img class="bio-img"
             src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Steinar_Sagen%2C_Nordiske_mediedager_2010.jpg/1200px-Steinar_Sagen%2C_Nordiske_mediedager_2010.jpg"
             alt="Steinar E. Hagen"/>
        <p class="bio">
            <!--modified version of https://snl.no/Steinar_Haga_Kristensen-->
            <b>Steinar E. Hagen</b> er en norsk billedkunstner. Han er kjent for en allsidig kunstnerisk praksis som
            omfatter maleri, skulptur, installasjon, video, performance og scenekunst. I flere prosjekter og
            utstillinger ser man gjerne en kombinasjon av to eller flere av disse uttrykkene i komplekse totalverk.
            Hagens arbeid blander mytologi, teatralitet, samfunnskommentar og humor i et b친de surrealistisk,
            naivistisk og heroisk bildespr친k.
        </p>
        <a id="docs-toggle" class="docs-toggle">
            <!-- Icon 'file-list-3' from https://remixicon.com/ -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                <path fill="none" d="M0 0h24v24H0z"/>
                <path d="M19 22H5a3 3 0 0 1-3-3V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v12h4v4a3 3 0 0 1-3 3zm-1-5v2a1 1 0 0 0 2 0v-2h-2zm-2 3V4H4v15a1 1 0 0 0 1 1h11zM6 7h8v2H6V7zm0 4h8v2H6v-2zm0 4h5v2H6v-2z"/>
            </svg>
            <span id="docs-toggle-text" class="docs-toggle-text">Vis dokumentasjon</span>
        </a>
    </div>

    <div id="docs-container" class="docs-container">
        <div id="docs" class="docs">
            <div class="docs-header">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                    <path fill="none" d="M0 0h24v24H0z"/>
                    <path d="M19 22H5a3 3 0 0 1-3-3V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v12h4v4a3 3 0 0 1-3 3zm-1-5v2a1 1 0 0 0 2 0v-2h-2zm-2 3V4H4v15a1 1 0 0 0 1 1h11zM6 7h8v2H6V7zm0 4h8v2H6v-2zm0 4h5v2H6v-2z"/>
                </svg>
                <span>Dokumentasjon</span>
            </div>
            <div class="docs-section">
                <strong>Flexbox</strong>
                <p>
                    Benyttes hovedsakelig for 친 ordne de ulike elementene i rader og kolonner, og for 친 dynamisk
                    tilordne plass avhengig av skjermst칮rrelse. For eksempel er et av de 칮verste elementene en kolonne
                    best친ende av overskrift, hovedinnhold, og bunntekst ("biografien"). Her tar overskrift og
                    bunntekst akkurat s친 mye plass som n칮dvendig, mens hovedinnholdet fyller ut resten. Samtidig har
                    hovedinnholdet et visst minimumskrav til hvor mye som tildeles
                    (<span class="docs-highlight">min-width</span> og <span class="docs-highlight">min-height</span> i
                    CSS), slik at dette ikke faller helt bort p친 visse skjermtyper.
                </p>
                <p>
                    Bildekunsten (alts친 de to bildene) er i utgangspunktet ordnet som en rad (fra venstre til h칮yre) med
                    flexbox. P친 smalere skjermer vil dette kreve for mye plass, og det er derfor lagt inn en regel som
                    bytter til kolonne-ordning p친 skjermer som er smalere enn en viss st칮rrelse. Dette krever kun
                    endring av ett attributt, og viser fleksibiliteten til flexbox.
                </p>
                <p>
                    Flexbox er ogs친 flittig brukt for 친 sentrere de ulike elementene b친de horisontalt og vertikalt.
                </p>
            </div>
            <div class="docs-section">
                <strong>Grid</strong>
                <p>
                    Denne siden benytter ikke CSS grid, da layout-behovene er tilstrekkelig dekket av flexbox. Hadde det
                    v칝rt snakk om en mer kompleks sideutforming, med ordning i b친de kolonne og rad for de samme
                    elementene (alts친 et grid), kunne grid helt klart v칝rt aktuelt for 친 utfylle flexbox.
                </p>
            </div>
            <div class="docs-section">
                <strong>SVG</strong>
                <p>
                    Det f칮rste bildet er tegnet i SVG ved hjelp av bilderedigeringsprogrammet <a
                        href="https://inkscape.org/">Inkscape</a>. HTML-dokumentet inkluderer en forenklet "plain SVG"
                    for 친 unng친 un칮dvendig
                    Inskcape-markup. Animasjoner er implementert i CSS. Jeg valgte 친 benytte <span
                        class="docs-highlight">transitions</span> , da det s친 ut
                    til 친 dekke behovene mine bedre og enklere enn f.eks. animasjoner med <span class="docs-highlight">@keyframes</span>.
                </p>
                <p>
                    Overgangene utf칮res ved hjelp av stilklasser som "toggles" via jQuery. I tillegg forenkler jQuery
                    oppkoblingen av de n칮dvendige klikk-lytterne som gir kunsten interaktivitet p친 element-niv친. Dette
                    er jo i utgangspunktet ikke s칝rlig vanskelig, da SVG-en fungerer som helt vanlige
                    HTML-elementer.
                </p>
            </div>
            <div class="docs-section">
                <strong>HTML canvas</strong>
                <p>
                    Canvas-implementasjonen av kunstverket er i all hovedsak en etterligning av SVG-versjonen. Her har
                    jeg alts친 fors칮kt 친 gj칮re de s친 like som mulig for 친 muligens avdekke de mest sentrale forskjellene.
                </p>
                <p>
                    F칮rst og fremst er canvas i all hovedsak et API til JavaScript, og i HTML-dokumentet finner en bare
                    et noks친 intetsigende <span class="docs-highlight">&lt;canvas&gt;</span>-element. For at noe som
                    helst skal vises m친 det tegnes til dette element via en
                    <span class="docs-highlight">CanvasRenderingContext2D</span>. Dette gj칮res via en rekke
                    instruksjoner som manipulerer canvaset, b친de for 친 tegne streker, men ogs친 for 친 rotetere og flytte
                    p친 canvaset. Det har derfor krevd noe mer
                    utregning og planlegging i forhold til SVG-byggingen i Inkscape.
                </p>
                <p>
                    Det som krevde mest tid, og som tydelig viste forskjellene mellom canvas og SVG, var animasjonene.
                    Der SVGen benytter eksisterende animasjonsst칮tte i CSS, er alle canvas-animasjonene helt
                    hjemmelagde. Siden canvas ikke egentlig lar deg manipulere elementene etter at de er tegnet, er alle
                    bevegelsene egentlig bare en evig prosess best친ende av tegning og visking. Programmet m친 alts친 for
                    hvert bilde (frame) beregne hvor elementene skal v칝re, i tillegg til andre attributter som st칮rrelse
                    og farge, basert p친 et gitt tidsstempel.
                </p>
                <p>
                    Dette krever i sin tur en del logikk for 친 holde styr p친
                    starttidspunktet for animasjonene og den 칮yeblikkelige progresjonen til hver av dem. Siden
                    animasjonene i CSS benytter <span class="docs-highlight">ease-in-out</span> som easing-funksjon,
                    "m친tte" jeg jo ogs친 finne frem
                    funksjonen til en tilsvarende B칠zier-kurve. Resultatet er ikke 100% likt CSS-versjonen, da de easer
                    litt ulikt ved avbryting av animasjonene (dvs. n친r man trykker en andre gang f칮r f칮rste animasjon er
                    ferdig). For 친 animere fargeovergangen har jeg benyttet HSL-representasjonen, da den gj칮r det
                    lettere 친 g친 gjennom ulike kul칮r-verdier (hue).
                </p>
                <p>
                    Uten tydelige elementer slik som i SVG kan det v칝re mer utfordrende 친 implementere klikklyttere p친
                    element-niv친 i canvas. 칄n fremgangsm친te er 친 selv beregne "omrissene" til de ulike figurene, og
                    utfra klikkposisjonen bestemme hva som trykkes p친. Dette gikk forholdsvis greit for disken i midten,
                    som jo bare har en sirkel som omriss. Det virket derimot ikke like trivielt 친 beregne omrissene for
                    alle trekantene, og ikke minst 친 sjekke dette opp mot klikkposisjon. Redningen ble funksjonen
                    <span class="docs-highlight">isPointInPath()</span>, og s칮sterfunksjonen <span
                        class="docs-highlight">isPointInStroke()</span>, fra <span class="docs-highlight">CanvasRenderingContext2D</span>.
                    Gitt en <span class="docs-highlight">Path2D</span>
                    beregner funksjonene om et gitt punkt er inneholdt eller ikke. Det eneste som gjenstod var 친 samle
                    sammen alle pathene under tegning, slik at de var tilgjengelige ved senere klikkh친ndtering.
                </p>
                <p>
                    Siden canvas egentlig bare er et bilde, og ikke vektorgrafikk slik som SVG, er det viktig 친
                    spesifisere dimensjonene til "bildet" via DOM attributter (width og height) og ikke bare via CSS.
                    Hvis ikke ender gjerne bildet opp med 친 se sv칝rt pikselert ut.
                </p>
            </div>
            <div class="docs-section">
                <strong>jQuery</strong>
                <p>
                    Som nevnt har jQuery forenklet deler av logikken, blant annet element-sp칮rringer, klikklyttere,
                    CSS-klasse-toggling og enkle animasjoner. For det meste, kanskje utenom sistnevnte, er dette noks친
                    lett 친 implementere uten jQuery, men det har i det minste bidratt til 친 칮ke kodens lesbarhet.
                </p>
            </div>
            <div class="docs-section">
                <strong>Testing</strong>
                <p>
                    Siden er testet manuelt i nettleserne Firefox, Chrome og Safari. Her har utviklerverkt칮yene i
                    Firefox og Chrome v칝rt sv칝rt nyttige, spesielt for testing av ulike skjermst칮rrelser og
                    mobil-visning. Siden er ogs친 testet p친 en faktisk mobiltelefon med Firefox. Ut ifra dette vil jeg
                    p친st친 at siden har st칮tte for de fleste enheter.
                </p>
                <p>
                    Underveis i utviklingen dukket det opp et par tilfeller hvor de ulike nettleserne krevde noe
                    forskjellig CSS-styling, blant annet bruk av vendor prefixes i styling av .no-select (som skal
                    hindre
                    tekstmarkering ved interaksjon med kunsten). Her var
                    <a href="https://caniuse.com/user-select-none">caniuse.com</a> nyttig for 친 finne de riktige
                    prefixene for 친 dekke de fleste
                    brukerne.
                </p>
            </div>
            <div class="docs-section">
                <strong>Informasjonskilder</strong>
                <p>
                    Den mest nyttige kilden til informasjon rundt de ulike teknologiene og API-ene har nok v칝rt <a
                        href="https://developer.mozilla.org/en-US/docs/Web">MDN Web Docs</a>. Det fleste
                    problemstillingene rundt spesielt <a
                        href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API">Canvas API-et</a> fant jeg
                    l칮sninger for der. Til bruk av
                    jQuery fikk jeg god nytte av den <a href="https://api.jquery.com/">offisielle dokumentasjonen</a>.
                    Naturlig nok fikk jeg ogs친 en del hjelp av en <a href="https://duckduckgo.com/?q=游붅">s칮kemotor</a>.
                    I noen tilfeller kunne ogs친 StackOverflow presentere noen inspirerende l칮sninger, men jeg endte ikke
                    opp med 친 benytte meg av noen av disse. Wikipedia kunne selvf칮lgelig informere om <a
                        href="https://en.wikipedia.org/w/index.php?title=B%C3%A9zier_curve">B칠zier-kurver</a>.
                </p>
            </div>

            <div class="docs-section docs-attributions">
                <strong>Attribusjoner</strong>
                <p>Bilde: Nordiske Mediedager , Eirik Helland Urke, CC BY-SA 2.0
                    <a href="https://creativecommons.org/licenses/by-sa/2.0">https://creativecommons.org/licenses/by-sa/2.0</a>,
                    via Wikimedia Commons</p>
                <p>Fiktiv biografi er en modifisert versjon av <i>R칮d, Arve: Steinar Haga Kristensen i Store norske
                    leksikon
                    p친 snl.no. Hentet 1. september 2021 fra <a href="https://snl.no/Steinar_Haga_Kristensen">https://snl.no/Steinar_Haga_Kristensen</a></i>
                </p>
                <p>
                    Ikonet 'file-list-3' (
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                        <path fill="none" d="M0 0h24v24H0z"/>
                        <path fill="#fff"
                              d="M19 22H5a3 3 0 0 1-3-3V3a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v12h4v4a3 3 0 0 1-3 3zm-1-5v2a1 1 0 0 0 2 0v-2h-2zm-2 3V4H4v15a1 1 0 0 0 1 1h11zM6 7h8v2H6V7zm0 4h8v2H6v-2zm0 4h5v2H6v-2z"/>
                    </svg>
                    ) er hentet fra <a href="https://remixicon.com">https://remixicon.com</a>
                </p>
            </div>
        </div>
    </div>
</div>
</body>
<script>
</script>
</html>
